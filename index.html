<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RiddhanshCart</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
body {
    margin:0;
    font-family:'Poppins', sans-serif;
    background:#f1f3f6;
}

/* HEADER */
header {
    background:#131921;
    color:white;
    padding:15px 25px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:sticky;
    top:0;
    z-index:10;
}
header h1 { margin:0; font-weight:500; }

/* PRODUCTS GRID */
.products {
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
    gap:20px;
    padding:25px;
}
.product {
    background:white;
    border-radius:12px;
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
    padding:15px;
    transition:all .3s ease;
}
.product:hover {
    transform:translateY(-5px);
    box-shadow:0 8px 18px rgba(0,0,0,0.15);
}
.product img {
    width:100%; height:220px; object-fit:cover;
    border-radius:10px;
}
button {
    background:#ff9900;
    border:none;
    color:white;
    padding:10px 14px;
    border-radius:8px;
    cursor:pointer;
    width:100%;
    font-weight:500;
    transition:.3s;
}
button:hover { background:#e68900; }

/* POPUP BASE */
.popup {
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.45);
    display:flex; justify-content:center; align-items:center;
    animation:fade .3s;
}
@keyframes fade { from{opacity:0;} to{opacity:1;} }

/* CARD POPUP BOX */
.box {
    background:white;
    width:350px;
    padding:25px;
    border-radius:12px;
    animation:pop .35s;
    box-shadow:0 10px 25px rgba(0,0,0,0.2);
}
@keyframes pop {
    from{transform:scale(.8); opacity:0;}
    to{transform:scale(1); opacity:1;}
}

/* TRACKING */
.timeline {
    border-left:4px solid #ccc;
    margin-left:10px;
    padding-left:15px;
}
.step {
    margin:15px 0;
    padding:8px 10px;
    border-radius:6px;
    background:#eee;
    transition:.3s;
}
.step.active {
    background:#d4ffdd;
    border-left:4px solid #4caf50;
    font-weight:500;
}
</style>
</head>
<body>

<header>
    <h1>RiddhanshCart</h1>
    <div onclick="openCart()" style="cursor:pointer;font-size:18px;">
        ðŸ›’ Cart <span id="cartCount" style="background:red;color:white;padding:2px 7px;border-radius:50%;">0</span>
    </div>
</header>

<div class="products" id="productList"></div>

<!-- PAYMENT PORTAL -->
<div id="payment" class="popup" style="display:none;">
    <div class="box">
        <h2>Payment</h2>
        <p>Total Amount: <b id="payAmount"></b></p>

        <label>UPI ID</label>
        <input id="upiId" placeholder="yourname@upi"
               style="padding:10px;width:100%;margin-top:8px;border-radius:8px;border:1px solid #ccc;">

        <button style="margin-top:15px;" onclick="completePayment()">Pay Now</button>
        <button style="background:#ccc;color:black;margin-top:10px;" onclick="closePay()">Cancel</button>
    </div>
</div>

<!-- RECEIPT -->
<div id="receipt" class="popup" style="display:none;">
    <div class="box">
        <h2>Payment Successful âœ”</h2>
        <div id="receiptBox"></div>
        <button onclick="openTracking()" style="margin-top:12px;">Track Order</button>
    </div>
</div>

<!-- TRACKING -->
<div id="track" class="popup" style="display:none;">
    <div class="box" style="width:380px;">
        <h2>Order Tracking</h2>
        <p><b>Order ID:</b> <span id="orderTrackId"></span></p>
        <p><b>Delivery Agent:</b> <span id="agentName"></span></p>
        <p><b>Phone:</b> <span id="agentPhone"></span></p>
        <p><b>Est. Delivery:</b> <span id="estDate"></span></p>

        <div class="timeline">
            <div class="step active">Order Placed</div>
            <div class="step active">Packed at Warehouse</div>
            <div class="step" id="s3">Shipped</div>
            <div class="step" id="s4">Out for Delivery</div>
            <div class="step" id="s5">Delivered</div>
        </div>

        <button onclick="closeTracking()" style="margin-top:12px;">Close</button>
    </div>
</div>

<script>
const products = [
    {id:1,name:"Smartphone X1",price:12999,img:"https://i.imgur.com/HKX2G6H.jpeg"},
    {id:2,name:"DSLR Camera",price:45999,img:"https://i.imgur.com/Y0kM5qV.jpeg"},
    {id:3,name:"Bluetooth Headphones",price:1999,img:"https://i.imgur.com/psJpN4s.jpeg"},
    {id:4,name:"Smartwatch Pro",price:3499,img:"https://i.imgur.com/2mGf0Yj.jpeg"}
];

let cart=[];
let orderId="";
let amount=0;

/* LOAD PRODUCTS */
function loadProducts(){
    let html="";
    products.forEach(p=>{
        html+=`
            <div class="product">
                <img src="${p.img}">
                <h3>${p.name}</h3>
                <p>â‚¹${p.price}</p>
                <button onclick="add(${p.id})">Add to Cart</button>
            </div>`;
    });
    document.getElementById("productList").innerHTML=html;
}
loadProducts();

/* ADD TO CART */
function add(id){
    let item=products.find(p=>p.id==id);
    cart.push(item);
    document.getElementById("cartCount").innerHTML=cart.length;
}

/* OPEN CART */
function openCart(){
    if(cart.length==0){ alert("Cart Empty"); return; }

    amount = cart.reduce((s,i)=>s+i.price,0);
    document.getElementById("payAmount").innerHTML="â‚¹"+amount;
    document.getElementById("payment").style.display="flex";
}
function closePay(){ document.getElementById("payment").style.display="none"; }

/* PAYMENT */
function completePayment(){
    let upi=document.getElementById("upiId").value;
    if(upi.length<5){ alert("Enter valid UPI!"); return; }

    orderId = "RC"+Math.floor(Math.random()*900000+100000);

    document.getElementById("receiptBox").innerHTML =
        `<p>Order ID: <b>${orderId}</b></p>
         <p>Amount Paid: <b>â‚¹${amount}</b></p>
         <p>Payment Mode: <b>UPI</b></p>
         <p>Status: <b>Success</b></p>`;

    document.getElementById("payment").style.display="none";
    document.getElementById("receipt").style.display="flex";
}

/* TRACKING */
function openTracking(){
    document.getElementById("receipt").style.display="none";

    const agents=[
        {name:"Rohit Singh",phone:"9876543210"},
        {name:"Arjun Sharma",phone:"9822334455"},
        {name:"Sagar Patel",phone:"9988776655"}
    ];
    let a=agents[Math.floor(Math.random()*agents.length)];

    document.getElementById("orderTrackId").innerText=orderId;
    document.getElementById("agentName").innerText=a.name;
    document.getElementById("agentPhone").innerText=a.phone;

    let d=new Date();
    d.setDate(d.getDate()+3);
    document.getElementById("estDate").innerText=d.toDateString();

    /* Auto smooth tracking update */
    setTimeout(()=>document.getElementById("s3").classList.add("active"),800);
    setTimeout(()=>document.getElementById("s4").classList.add("active"),1600);
    setTimeout(()=>document.getElementById("s5").classList.add("active"),2400);

    document.getElementById("track").style.display="flex";
}

function closeTracking(){
    document.getElementById("track").style.display="none";
}
</script>
</body>
</html>
